CREATE DATABASE ProductManagementSystem

Use ProductManagementSystem 

CREATE TABLE [dbo.UserMaster]
	(
		UserId int not null identity primary key, 
		FirstName varchar(50),
		LastName varchar(50), 
		UserName varchar(50), 
		Password varchar(50), 
		Email varchar(50), 
		Phone varchar(15), 
		CurrentAddress varchar(50),
		PermanentAddress varchar(50),
		State varchar(10),
		Pincode varchar(10),
		IsAdmin bit	
	)


CREATE TABLE [dbo.Product]
	(
		PID int not null identity primary key, 
		PName varchar(50),
		ImageName varchar(50), 
		ImageCode varbinary, 
		Price money, 
		Discount int, 
		Quantity int, 
		IsStock bit
	)

CREATE TABLE [dbo.Order] 
	(
		OrderId int not null identity primary key, 
		ProductId int references [dbo.Product](PID),
		ProductQuantity int, 
		UserId int references [dbo.UserMaster](UserId), 
		BookingOn date,
		DeliveredOn date
	)	
	
CREATE TABLE Payment 
	(
		PayId int not null identity primary key, 
		UserId int references [dbo.UserMaster](UserId), 
		OrderId int references [dbo.Order](OrderId),  
		CardNo varchar(15), 
		BankName varchar(50), 
		NameOnCard varchar(20), 
		ExpiryDate date
	)

CREATE TABLE Cart 
	(
		CartId int not null identity primary key, 
		UserId int references [dbo.UserMaster](UserId), 
		ProductId int references [dbo.Product](PID)
	)
